<div id="artical">
		  <p>JavaScript is a quirky language with some unexpected shortcuts and pitfalls. Here are 13 things you might find to be delightful or dreadful:</p>
<h1 id="1-hoisting">1) Hoisting</h1>
<h3 id="question-what-is-logged-to-the-console-">Question: What is logged to the console?</h3>
<pre class="prettyprint linenums prettyprinted"><ol class="linenums"><li class="L0"><code><span class="kwd">var</span><span class="pln"> a </span><span class="pun">=</span><span class="pln"> </span><span class="lit">1</span><span class="pun">;</span></code></li><li class="L1"><code><span class="kwd">function</span><span class="pln"> go</span><span class="pun">(){</span></code></li><li class="L2"><code><span class="pln">    console</span><span class="pun">.</span><span class="pln">log</span><span class="pun">(</span><span class="pln">a</span><span class="pun">);</span></code></li><li class="L3"><code><span class="pln">    </span><span class="kwd">var</span><span class="pln"> a </span><span class="pun">=</span><span class="pln"> </span><span class="lit">2</span><span class="pun">;</span></code></li><li class="L4"><code><span class="pun">}</span></code></li><li class="L5"><code><span class="pln">go</span><span class="pun">();</span></code></li></ol></pre>
<h3 id="answer-">Answer:</h3>
<pre class="prettyprint linenums prettyprinted"><ol class="linenums"><li class="L0"><code><span class="pun">&gt;</span><span class="pln"> </span><span class="kwd">undefined</span></code></li></ol></pre>
<h3 id="why-">Why:</h3>
<p>Variable declarations are hoisted to the top of the scope. Note that the declaration is hoisted, but not the assignment. So the example is actually interpreted as:</p>
<pre class="prettyprint linenums prettyprinted"><ol class="linenums"><li class="L0"><code><span class="kwd">var</span><span class="pln"> a</span><span class="pun">;</span></code></li><li class="L1"><code><span class="pln">a </span><span class="pun">=</span><span class="pln"> </span><span class="lit">1</span><span class="pun">;</span></code></li><li class="L2"><code><span class="kwd">function</span><span class="pln"> go</span><span class="pun">(){</span></code></li><li class="L3"><code><span class="pln">    </span><span class="kwd">var</span><span class="pln"> a</span><span class="pun">;</span></code></li><li class="L4"><code><span class="pln">    console</span><span class="pun">.</span><span class="pln">log</span><span class="pun">(</span><span class="pln">a</span><span class="pun">);</span></code></li><li class="L5"><code><span class="pln">    a </span><span class="pun">=</span><span class="pln"> </span><span class="lit">2</span><span class="pun">;</span></code></li><li class="L6"><code><span class="pun">}</span></code></li><li class="L7"><code><span class="pln">go</span><span class="pun">();</span></code></li></ol></pre>
<p>In this case, the <code>var a</code> declaration is hoisted above the logging statement, so <code>a</code>'s value is reset to "undefined".</p>
<p>This is rarely a problem unless you're referencing and redefining a variable from an outside scope. For example, the following code block would work as expected:</p>
<pre class="prettyprint linenums prettyprinted"><ol class="linenums"><li class="L0"><code><span class="kwd">var</span><span class="pln"> a </span><span class="pun">=</span><span class="pln"> </span><span class="lit">1</span><span class="pun">;</span></code></li><li class="L1"><code><span class="pln">console</span><span class="pun">.</span><span class="pln">log</span><span class="pun">(</span><span class="pln">a</span><span class="pun">);</span></code></li><li class="L2"><code><span class="kwd">var</span><span class="pln"> a </span><span class="pun">=</span><span class="pln"> </span><span class="lit">2</span><span class="pun">;</span></code></li></ol></pre>
<p>Which is interpreted as:</p>
<pre class="prettyprint linenums prettyprinted"><ol class="linenums"><li class="L0"><code><span class="kwd">var</span><span class="pln"> a</span><span class="pun">;</span></code></li><li class="L1"><code><span class="kwd">var</span><span class="pln"> a</span><span class="pun">;</span></code></li><li class="L2"><code><span class="pln">a </span><span class="pun">=</span><span class="pln"> </span><span class="lit">1</span><span class="pun">;</span></code></li><li class="L3"><code><span class="pln">console</span><span class="pun">.</span><span class="pln">log</span><span class="pun">(</span><span class="pln">a</span><span class="pun">);</span></code></li><li class="L4"><code><span class="pln">a </span><span class="pun">=</span><span class="pln"> </span><span class="lit">2</span><span class="pun">;</span></code></li></ol></pre>
<hr>
<h1 id="2-simple-addition">2) Simple Addition</h1>
<h3 id="question-what-is-logged-">Question: What is logged?</h3>
<pre class="prettyprint linenums prettyprinted"><ol class="linenums"><li class="L0"><code><span class="pln">console</span><span class="pun">.</span><span class="pln">log</span><span class="pun">(.</span><span class="lit">1</span><span class="pln"> </span><span class="pun">+</span><span class="pln"> </span><span class="pun">.</span><span class="lit">2</span><span class="pun">);</span></code></li><li class="L1"><code><span class="pln">console</span><span class="pun">.</span><span class="pln">log</span><span class="pun">((.</span><span class="lit">1</span><span class="pln"> </span><span class="pun">+</span><span class="pln"> </span><span class="pun">.</span><span class="lit">2</span><span class="pun">)</span><span class="pln"> </span><span class="pun">==</span><span class="pln"> </span><span class="pun">.</span><span class="lit">3</span><span class="pun">);</span></code></li></ol></pre>
<h3 id="answer-">Answer:</h3>
<pre class="prettyprint linenums prettyprinted"><ol class="linenums"><li class="L0"><code><span class="pun">&gt;</span><span class="pln"> </span><span class="lit">0.30000000000000004</span></code></li><li class="L1"><code><span class="pun">&gt;</span><span class="pln"> </span><span class="kwd">false</span></code></li></ol></pre>
<h3 id="why-">Why:</h3>
<p>JavaScript has one data type for representing numbers and it's a <em>binary</em> floating-point format.</p>
<p>In this case, .1 is impossible to represent because it repeats infinitely in binary.</p>
<p>Before you go thinking that's weird, think about this. What if someone asked you to write 1/3 in decimal form? Decimal struggles with 1/3 just like binary struggles with 1/10.</p>
<p>And it's not just JavaScript that struggles with this.  Try this in C#:</p>
<pre class="prettyprint linenums prettyprinted"><ol class="linenums"><li class="L0"><code><span class="typ">Console</span><span class="pun">.</span><span class="typ">WriteLine</span><span class="pun">(.</span><span class="lit">1</span><span class="pln"> </span><span class="pun">+</span><span class="pln"> </span><span class="pun">.</span><span class="lit">2</span><span class="pun">);</span><span class="pln"> </span><span class="com">// .3</span></code></li><li class="L1"><code><span class="typ">Console</span><span class="pun">.</span><span class="typ">WriteLine</span><span class="pun">(.</span><span class="lit">1</span><span class="pln"> </span><span class="pun">+</span><span class="pln"> </span><span class="pun">.</span><span class="lit">2</span><span class="pln"> </span><span class="pun">==</span><span class="pln"> </span><span class="pun">.</span><span class="lit">3</span><span class="pun">);</span><span class="pln"> </span><span class="com">// false</span></code></li></ol></pre>
<p>So any time a number is stored in a binary floating-point format, it's going to be a problem. The trick is that some environments hide the problem better than others.</p>
<p>Anyways, the key is to avoid equality comparisons between floating point numbers.  Instead, consider subtracting the numbers and compare it to an epsilon:</p>
<pre class="prettyprint linenums prettyprinted"><ol class="linenums"><li class="L0"><code><span class="kwd">var</span><span class="pln"> isEqual </span><span class="pun">=</span><span class="pln"> </span><span class="typ">Math</span><span class="pun">.</span><span class="pln">abs</span><span class="pun">((.</span><span class="lit">1</span><span class="pln"> </span><span class="pun">+</span><span class="pln"> </span><span class="pun">.</span><span class="lit">2</span><span class="pun">)</span><span class="pln"> </span><span class="pun">-</span><span class="pln"> </span><span class="pun">.</span><span class="lit">3</span><span class="pun">)</span><span class="pln"> </span><span class="pun">&lt;</span><span class="pln"> </span><span class="pun">.</span><span class="lit">0000001</span><span class="pun">;</span></code></li></ol></pre>
<p>Gross, huh? If you're dealing with money, consider working in pennies instead of dollars.</p>
<p>Or you could wait for inflation to dissolve the need for American pocket change. Based on the last 100 years, my guess is the year 2456.</p>
<hr>
<h1 id="3-double-tilde">3) Double Tilde</h1>
<h3 id="question-what-is-logged-">Question: What is logged?</h3>
<pre class="prettyprint linenums prettyprinted"><ol class="linenums"><li class="L0"><code><span class="pln">console</span><span class="pun">.</span><span class="pln">log</span><span class="pun">(</span><span class="pln"> </span><span class="pun">~~</span><span class="lit">12.34</span><span class="pln">   </span><span class="pun">);</span></code></li><li class="L1"><code><span class="pln">console</span><span class="pun">.</span><span class="pln">log</span><span class="pun">(</span><span class="pln"> </span><span class="pun">~~</span><span class="str">"56.78"</span><span class="pln"> </span><span class="pun">);</span></code></li><li class="L2"><code><span class="pln">console</span><span class="pun">.</span><span class="pln">log</span><span class="pun">(</span><span class="pln"> </span><span class="pun">~~-</span><span class="lit">2.6</span><span class="pln"> </span><span class="pun">);</span></code></li><li class="L3"><code><span class="pln">console</span><span class="pun">.</span><span class="pln">log</span><span class="pun">(</span><span class="pln"> </span><span class="pun">~~</span><span class="str">"Sunny"</span><span class="pln"> </span><span class="pun">);</span></code></li><li class="L4"><code><span class="pln">console</span><span class="pun">.</span><span class="pln">log</span><span class="pun">(</span><span class="pln"> </span><span class="pun">~~[]</span><span class="pln"> </span><span class="pun">);</span></code></li><li class="L5"><code><span class="pln">console</span><span class="pun">.</span><span class="pln">log</span><span class="pun">(</span><span class="pln"> </span><span class="pun">~~</span><span class="kwd">null</span><span class="pln"> </span><span class="pun">);</span></code></li></ol></pre>
<h3 id="answer-">Answer:</h3>
<pre class="prettyprint linenums prettyprinted"><ol class="linenums"><li class="L0"><code><span class="pun">&gt;</span><span class="pln"> </span><span class="lit">12</span></code></li><li class="L1"><code><span class="pun">&gt;</span><span class="pln"> </span><span class="lit">56</span></code></li><li class="L2"><code><span class="pun">&gt;</span><span class="pln"> </span><span class="pun">-</span><span class="lit">2</span></code></li><li class="L3"><code><span class="pun">&gt;</span><span class="pln"> </span><span class="lit">0</span></code></li><li class="L4"><code><span class="pun">&gt;</span><span class="pln"> </span><span class="lit">0</span></code></li><li class="L5"><code><span class="pun">&gt;</span><span class="pln"> </span><span class="lit">0</span></code></li></ol></pre>
<h3 id="why-">Why:</h3>
<p>The double tilde is a quick way to truncate a value to an integer.</p>
<p>The nice thing is, it never returns <code>NaN</code>. If it fails, it just returns 0.</p>
<p>Notice that this is different from Math.floor since <code>~~</code> just removes everything after the decimal (think negative numbers).</p>
<p>Just remember that this is pretty obscure, so it may be confusing to people following your code.</p>
<h3 id="bonus-">Bonus:</h3>
<p>The single tilde operator performs a "bitwise complement on its single operand".</p>
<p>How's that useful?  It returns a "truthy" value for any number besides -1.  The <code>indexOf</code> function returns -1 if a match isn't found, so you can write:</p>
<pre class="prettyprint linenums prettyprinted"><ol class="linenums"><li class="L0"><code><span class="kwd">var</span><span class="pln"> names </span><span class="pun">=</span><span class="pln"> </span><span class="pun">[</span><span class="str">'Josh'</span><span class="pun">,</span><span class="pln"> </span><span class="str">'Jenny'</span><span class="pun">];</span></code></li><li class="L1"><code></code></li><li class="L2"><code><span class="kwd">if</span><span class="pun">(~</span><span class="pln">names</span><span class="pun">.</span><span class="pln">indexOf</span><span class="pun">(</span><span class="str">'Sunny'</span><span class="pun">)){</span></code></li><li class="L3"><code><span class="pln">    </span><span class="com">//found</span></code></li><li class="L4"><code><span class="pun">}</span><span class="kwd">else</span><span class="pun">{</span></code></li><li class="L5"><code><span class="pln">    </span><span class="com">//not found</span></code></li><li class="L6"><code><span class="pun">}</span></code></li></ol></pre>
<hr>
<h1 id="4-the-infamous-asynchronous-loop-problem">4) The Infamous, Asynchronous Loop Problem</h1>
<h3 id="question-what-is-logged-">Question: What is logged?</h3>
<pre class="prettyprint linenums prettyprinted"><ol class="linenums"><li class="L0"><code><span class="kwd">for</span><span class="pln"> </span><span class="pun">(</span><span class="kwd">var</span><span class="pln"> i</span><span class="pun">=</span><span class="lit">0</span><span class="pun">;</span><span class="pln"> i</span><span class="pun">&lt;</span><span class="lit">4</span><span class="pun">;</span><span class="pln"> i</span><span class="pun">++)</span></code></li><li class="L1"><code><span class="pun">{</span></code></li><li class="L2"><code><span class="pln">    setTimeout</span><span class="pun">(</span><span class="kwd">function</span><span class="pun">(){</span></code></li><li class="L3"><code><span class="pln">        console</span><span class="pun">.</span><span class="pln">log</span><span class="pun">(</span><span class="pln">i</span><span class="pun">);</span><span class="pln">        </span></code></li><li class="L4"><code><span class="pln">    </span><span class="pun">},</span><span class="pln"> </span><span class="lit">1000</span><span class="pun">);</span></code></li><li class="L5"><code><span class="pun">}</span></code></li></ol></pre>
<h3 id="answer-">Answer:</h3>
<pre class="prettyprint linenums prettyprinted"><ol class="linenums"><li class="L0"><code><span class="pun">&gt;</span><span class="pln"> </span><span class="lit">4</span></code></li><li class="L1"><code><span class="pun">&gt;</span><span class="pln"> </span><span class="lit">4</span></code></li><li class="L2"><code><span class="pun">&gt;</span><span class="pln"> </span><span class="lit">4</span></code></li><li class="L3"><code><span class="pun">&gt;</span><span class="pln"> </span><span class="lit">4</span></code></li></ol></pre>
<h3 id="why-">Why:</h3>
<p>Each timeout refers to the original <code>i</code>, not a copy. So the <code>for</code> loop increments <code>i</code> until it gets to 4, then the timeouts run and use the current value of <code>i</code> (which is 4).</p>
<p>To log the correct value, you would need to create a copy of <code>i</code>. So you might try this:</p>
<pre class="prettyprint linenums prettyprinted"><ol class="linenums"><li class="L0"><code><span class="com">//DOES NOT WORK</span></code></li><li class="L1"><code><span class="kwd">for</span><span class="pln"> </span><span class="pun">(</span><span class="kwd">var</span><span class="pln"> i</span><span class="pun">=</span><span class="lit">0</span><span class="pun">;</span><span class="pln"> i</span><span class="pun">&lt;</span><span class="lit">4</span><span class="pun">;</span><span class="pln"> i</span><span class="pun">++)</span></code></li><li class="L2"><code><span class="pun">{</span></code></li><li class="L3"><code><span class="pln">    </span><span class="kwd">var</span><span class="pln"> temp </span><span class="pun">=</span><span class="pln"> i</span><span class="pun">;</span></code></li><li class="L4"><code><span class="pln">    setTimeout</span><span class="pun">(</span><span class="kwd">function</span><span class="pun">(){</span></code></li><li class="L5"><code><span class="pln">        console</span><span class="pun">.</span><span class="pln">log</span><span class="pun">(</span><span class="pln">temp</span><span class="pun">);</span><span class="pln">        </span></code></li><li class="L6"><code><span class="pln">    </span><span class="pun">},</span><span class="pln"> </span><span class="lit">1000</span><span class="pun">);</span></code></li><li class="L7"><code><span class="pun">}</span></code></li><li class="L8"><code></code></li><li class="L9"><code><span class="pun">&gt;</span><span class="pln"> </span><span class="lit">3</span></code></li><li class="L0"><code><span class="pun">&gt;</span><span class="pln"> </span><span class="lit">3</span></code></li><li class="L1"><code><span class="pun">&gt;</span><span class="pln"> </span><span class="lit">3</span></code></li><li class="L2"><code><span class="pun">&gt;</span><span class="pln"> </span><span class="lit">3</span></code></li></ol></pre>
<p>But that doesn't work. Why? Because blocks don't create a scope and variables initializers are hoisted to the top of the scope.  In fact, the previous block is the same as:</p>
<pre class="prettyprint linenums prettyprinted"><ol class="linenums"><li class="L0"><code><span class="com">//DOES NOT WORK</span></code></li><li class="L1"><code><span class="kwd">var</span><span class="pln"> temp</span><span class="pun">;</span></code></li><li class="L2"><code><span class="kwd">for</span><span class="pln"> </span><span class="pun">(</span><span class="kwd">var</span><span class="pln"> i</span><span class="pun">=</span><span class="lit">0</span><span class="pun">;</span><span class="pln"> i</span><span class="pun">&lt;</span><span class="lit">4</span><span class="pun">;</span><span class="pln"> i</span><span class="pun">++)</span></code></li><li class="L3"><code><span class="pun">{</span></code></li><li class="L4"><code><span class="pln">    temp </span><span class="pun">=</span><span class="pln"> i</span><span class="pun">;</span></code></li><li class="L5"><code><span class="pln">    setTimeout</span><span class="pun">(</span><span class="kwd">function</span><span class="pun">(){</span></code></li><li class="L6"><code><span class="pln">        console</span><span class="pun">.</span><span class="pln">log</span><span class="pun">(</span><span class="pln">temp</span><span class="pun">);</span><span class="pln">        </span></code></li><li class="L7"><code><span class="pln">    </span><span class="pun">},</span><span class="pln"> </span><span class="lit">1000</span><span class="pun">);</span></code></li><li class="L8"><code><span class="pun">}</span></code></li></ol></pre>
<p>There are a few different ways to copy <code>i</code>. The most common way is creating a closure by declaring a function and passing <code>i</code> as an argument. Here we do this as a self-calling function:</p>
<pre class="prettyprint linenums prettyprinted"><ol class="linenums"><li class="L0"><code><span class="pln">  </span><span class="com">//WORKS</span></code></li><li class="L1"><code><span class="kwd">for</span><span class="pln"> </span><span class="pun">(</span><span class="kwd">var</span><span class="pln"> i</span><span class="pun">=</span><span class="lit">0</span><span class="pun">;</span><span class="pln"> i</span><span class="pun">&lt;</span><span class="lit">4</span><span class="pun">;</span><span class="pln"> i</span><span class="pun">++)</span></code></li><li class="L2"><code><span class="pun">{</span></code></li><li class="L3"><code><span class="pln">    </span><span class="pun">(</span><span class="kwd">function</span><span class="pun">(</span><span class="pln">num</span><span class="pun">){</span></code></li><li class="L4"><code><span class="pln">        setTimeout</span><span class="pun">(</span><span class="kwd">function</span><span class="pun">(){</span></code></li><li class="L5"><code><span class="pln">            console</span><span class="pun">.</span><span class="pln">log</span><span class="pun">(</span><span class="pln">num</span><span class="pun">);</span></code></li><li class="L6"><code><span class="pln">        </span><span class="pun">},</span><span class="pln"> </span><span class="lit">1000</span><span class="pun">);</span></code></li><li class="L7"><code><span class="pln">    </span><span class="pun">})(</span><span class="pln">i</span><span class="pun">);</span></code></li><li class="L8"><code><span class="pun">}</span></code></li></ol></pre>
<p>In JavaScript, arguments are passed by value to a function. So primitive types like numbers, dates, and strings are basically copied. If you change them inside the function, it does not affect the outside scope.  Objects are special: if the inside function changes a property, the change is reflected in all scopes.</p>
<hr>
<h1 id="5-plus-a-boolean">5) Plus a Boolean</h1>
<h3 id="question-what-is-logged-">Question: What is logged?</h3>
<pre class="prettyprint linenums prettyprinted"><ol class="linenums"><li class="L0"><code><span class="pun">&gt;</span><span class="pln"> </span><span class="lit">3</span><span class="pln"> </span><span class="pun">+</span><span class="pln"> </span><span class="kwd">false</span></code></li><li class="L1"><code><span class="pun">&gt;</span><span class="pln"> </span><span class="lit">3</span><span class="pln"> </span><span class="pun">+</span><span class="pln"> </span><span class="kwd">true</span></code></li></ol></pre>
<h3 id="answer-">Answer:</h3>
<pre class="prettyprint linenums prettyprinted"><ol class="linenums"><li class="L0"><code><span class="pun">&gt;</span><span class="pln"> </span><span class="lit">3</span></code></li><li class="L1"><code><span class="pun">&gt;</span><span class="pln"> </span><span class="lit">4</span></code></li></ol></pre>
<h3 id="why-">Why:</h3>
<p>JavaScript uses type coercion to convert a boolean to a number. So <code>true</code> evaluates to <code>1</code> and <code>false</code> to <code>0</code>. Simple but handy.</p>
<hr>
<h1 id="6-not-not">6) Not Not</h1>
<h3 id="question-what-is-logged-">Question: What is logged?</h3>
<pre class="prettyprint linenums prettyprinted"><ol class="linenums"><li class="L0"><code><span class="pun">&gt;</span><span class="pln"> </span><span class="pun">!</span><span class="str">"Cool"</span></code></li><li class="L1"><code><span class="pun">&gt;</span><span class="pln"> </span><span class="pun">!-</span><span class="lit">2</span></code></li><li class="L2"><code><span class="pun">&gt;</span><span class="pln"> </span><span class="pun">!!</span><span class="lit">0</span></code></li><li class="L3"><code><span class="pun">&gt;</span><span class="pln"> </span><span class="pun">!!</span><span class="str">''</span></code></li></ol></pre>
<h3 id="answer-">Answer:</h3>
<pre class="prettyprint linenums prettyprinted"><ol class="linenums"><li class="L0"><code><span class="pun">&gt;</span><span class="pln"> </span><span class="kwd">false</span></code></li><li class="L1"><code><span class="pun">&gt;</span><span class="pln"> </span><span class="kwd">false</span></code></li><li class="L2"><code><span class="pun">&gt;</span><span class="pln"> </span><span class="kwd">false</span></code></li><li class="L3"><code><span class="pun">&gt;</span><span class="pln"> </span><span class="kwd">false</span></code></li></ol></pre>
<h3 id="why-">Why:</h3>
<p>This is pretty common knowledge, but it's worth a mention.</p>
<p>JavaScript uses type coercion to convert between types, so in this case it is implicitly converting to boolean. This is handy because a null or empty string will be "false", as will the number 0. This makes it easy to check if a string contains a value without checking for both null and empty.</p>
<p>Sometimes you'll want to force a value to a bool, but you don't want to negate it. So you use <code>!!</code> to negate it twice.</p>
<p>It works on any type, but some results are tricky. For example, I wish an empty array <code>!![]</code> evaluated to false. But <code>[]</code> is truthy so <code>!![]</code> is true.</p>
<p>The best compressors actually convert <code>true</code> to <code>!0</code> and <code>false</code> to <code>!1</code>. It saves space and means the same thing.</p>
<hr>
<h1 id="7-string-builder">7) String Builder</h1>
<h3 id="question-what-is-logged-">Question: What is logged?</h3>
<pre class="prettyprint linenums prettyprinted"><ol class="linenums"><li class="L0"><code><span class="pun">&gt;</span><span class="pln"> </span><span class="str">'A'</span><span class="pun">+</span><span class="str">'B'</span><span class="pun">+</span><span class="str">'C'</span></code></li><li class="L1"><code><span class="pun">&gt;</span><span class="pln"> </span><span class="pun">[</span><span class="str">'A'</span><span class="pun">,</span><span class="str">'B'</span><span class="pun">,</span><span class="str">'C'</span><span class="pun">].</span><span class="pln">join</span><span class="pun">(</span><span class="str">''</span><span class="pun">);</span></code></li></ol></pre>
<h3 id="answer-">Answer:</h3>
<pre class="prettyprint linenums prettyprinted"><ol class="linenums"><li class="L0"><code><span class="pun">&gt;</span><span class="pln"> ABC</span></code></li><li class="L1"><code><span class="pun">&gt;</span><span class="pln"> ABC</span></code></li></ol></pre>
<h3 id="why-">Why:</h3>
<p>Another simple one, but quite handy.  If you're building a big string (maybe HTML) with JavaScript, it might look like this:</p>
<pre class="prettyprint linenums prettyprinted"><ol class="linenums"><li class="L0"><code><span class="kwd">var</span><span class="pln"> html </span><span class="pun">=</span><span class="pln"> </span><span class="str">''</span><span class="pun">;</span></code></li><li class="L1"><code><span class="kwd">for</span><span class="pun">(</span><span class="kwd">var</span><span class="pln"> i</span><span class="pun">=</span><span class="lit">0</span><span class="pun">;</span><span class="pln"> i</span><span class="pun">&lt;</span><span class="lit">100</span><span class="pun">;</span><span class="pln"> i</span><span class="pun">++)</span></code></li><li class="L2"><code><span class="pln">    html </span><span class="pun">+=</span><span class="pln"> </span><span class="str">'&lt;p&gt;'</span><span class="pln"> </span><span class="pun">+</span><span class="pln"> i </span><span class="pun">+</span><span class="pln"> </span><span class="str">'&lt;/p&gt;'</span><span class="pun">;</span></code></li></ol></pre>
<p>This can be pretty slow because it's rebuilding the whole string every time. Instead, you can add the values to an array and then join it at the end:</p>
<pre class="prettyprint linenums prettyprinted"><ol class="linenums"><li class="L0"><code><span class="kwd">var</span><span class="pln"> html </span><span class="pun">=</span><span class="pln"> </span><span class="pun">[];</span></code></li><li class="L1"><code><span class="kwd">for</span><span class="pun">(</span><span class="kwd">var</span><span class="pln"> i</span><span class="pun">=</span><span class="lit">0</span><span class="pun">;</span><span class="pln"> i</span><span class="pun">&lt;</span><span class="lit">100</span><span class="pun">;</span><span class="pln"> i</span><span class="pun">++)</span></code></li><li class="L2"><code><span class="pln">    html</span><span class="pun">.</span><span class="pln">push</span><span class="pun">(</span><span class="str">'&lt;p&gt;'</span><span class="pun">,</span><span class="pln"> i</span><span class="pun">,</span><span class="pln"> </span><span class="str">'&lt;/p&gt;'</span><span class="pun">);</span></code></li><li class="L3"><code><span class="pln">html </span><span class="pun">=</span><span class="pln"> html</span><span class="pun">.</span><span class="pln">join</span><span class="pun">(</span><span class="str">''</span><span class="pun">);</span></code></li></ol></pre>
<p>This version creates an array of all the pieces, then joins them all together once at the end.  </p>
<hr>
<h1 id="8-missing-parenthesis">8) Missing Parenthesis</h1>
<h3 id="question-what-is-logged-">Question: What is logged?</h3>
<pre class="prettyprint linenums prettyprinted"><ol class="linenums"><li class="L0"><code><span class="pun">&gt;</span><span class="pln"> </span><span class="kwd">new</span><span class="pln"> </span><span class="typ">Date</span><span class="pun">()</span></code></li><li class="L1"><code><span class="pun">&gt;</span><span class="pln"> </span><span class="kwd">new</span><span class="pln"> </span><span class="typ">Date</span></code></li></ol></pre>
<h3 id="answer-">Answer:</h3>
<pre class="prettyprint linenums prettyprinted"><ol class="linenums"><li class="L0"><code><span class="pun">&gt;</span><span class="pln"> </span><span class="typ">Wed</span><span class="pln"> </span><span class="typ">Jul</span><span class="pln"> </span><span class="lit">24</span><span class="pln"> </span><span class="lit">2013</span><span class="pln"> </span><span class="lit">19</span><span class="pun">:</span><span class="lit">45</span><span class="pun">:</span><span class="lit">34</span><span class="pln"> GMT</span><span class="pun">-</span><span class="lit">0500</span><span class="pln"> </span><span class="pun">(</span><span class="pln">CDT</span><span class="pun">)</span></code></li><li class="L1"><code><span class="pun">&gt;</span><span class="pln"> </span><span class="typ">Wed</span><span class="pln"> </span><span class="typ">Jul</span><span class="pln"> </span><span class="lit">24</span><span class="pln"> </span><span class="lit">2013</span><span class="pln"> </span><span class="lit">19</span><span class="pun">:</span><span class="lit">45</span><span class="pun">:</span><span class="lit">34</span><span class="pln"> GMT</span><span class="pun">-</span><span class="lit">0500</span><span class="pln"> </span><span class="pun">(</span><span class="pln">CDT</span><span class="pun">)</span></code></li></ol></pre>
<h3 id="why-">Why:</h3>
<p>Another strange part of the JavaScript <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/new?redirectlocale=en-US&amp;redirectslug=JavaScript%2FReference%2FOperators%2Fnew">spec</a> is that you can omit the parenthesis on a constructor if you are passing no arguments.</p>
<p>Just remember - you can't call a method (like <code>new Date.getTime()</code>) unless you do it like <code>(new Date).getTime()</code>.</p>
<hr>
<h1 id="9-named-functions">9) Named Functions</h1>
<h3 id="question-what-is-logged-">Question: What is logged?</h3>
<pre class="prettyprint linenums prettyprinted"><ol class="linenums"><li class="L0"><code><span class="pln">setTimeout</span><span class="pun">(</span><span class="kwd">function</span><span class="pun">(){</span></code></li><li class="L1"><code><span class="pln">  </span><span class="kwd">null</span><span class="pun">.</span><span class="pln">toString</span><span class="pun">();</span><span class="pln">           </span></code></li><li class="L2"><code><span class="pun">},</span><span class="pln"> </span><span class="lit">10</span><span class="pun">);</span></code></li><li class="L3"><code></code></li><li class="L4"><code><span class="pln">setTimeout</span><span class="pun">(</span><span class="kwd">function</span><span class="pln"> </span><span class="typ">MyAwesomeFunction</span><span class="pun">(){</span></code></li><li class="L5"><code><span class="pln">  </span><span class="kwd">null</span><span class="pun">.</span><span class="pln">toString</span><span class="pun">();</span></code></li><li class="L6"><code><span class="pun">},</span><span class="pln"> </span><span class="lit">20</span><span class="pun">);</span></code></li></ol></pre>
<h3 id="answer-">Answer:</h3>
<pre class="prettyprint linenums prettyprinted"><ol class="linenums"><li class="L0"><code><span class="pun">&gt;</span><span class="pln"> </span><span class="typ">Cannot</span><span class="pln"> call method </span><span class="str">'toString'</span><span class="pln"> of </span><span class="kwd">null</span><span class="pln"> </span><span class="pun">(</span><span class="pln">anonymous </span><span class="kwd">function</span><span class="pun">)</span></code></li><li class="L1"><code><span class="pun">&gt;</span><span class="pln"> </span><span class="typ">Cannot</span><span class="pln"> call method </span><span class="str">'toString'</span><span class="pln"> of </span><span class="kwd">null</span><span class="pln"> </span><span class="pun">(</span><span class="typ">MyAwesomeFunction</span><span class="pun">)</span></code></li></ol></pre>
<h3 id="why-">Why:</h3>
<p>We use anonymous functions for timeouts, intervals, dom events, and other callbacks. If an error happens, it may be difficult to tell what function to look in because unnamed functions are called 'anonymous function'.</p>
<p>You can give yourself better error stack traces if you include a name. In this case, I named the second function <code>MyAwesomeFunction</code> so it is clear where the error occurred.</p>
<hr>
<h1 id="10-semi-colons-optional">10) Semi Colons Optional</h1>
<h3 id="question-what-is-logged-">Question: What is logged?</h3>
<pre class="prettyprint linenums prettyprinted"><ol class="linenums"><li class="L0"><code><span class="kwd">var</span><span class="pln"> getName1 </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">function</span><span class="pln"> </span><span class="pun">()</span><span class="pln"> </span><span class="pun">{</span></code></li><li class="L1"><code><span class="pln">  </span><span class="kwd">return</span><span class="pln"> </span></code></li><li class="L2"><code><span class="pln">    </span><span class="str">"John"</span></code></li><li class="L3"><code><span class="pun">}</span></code></li><li class="L4"><code></code></li><li class="L5"><code><span class="kwd">var</span><span class="pln"> getName2 </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">function</span><span class="pln"> </span><span class="pun">()</span><span class="pln"> </span><span class="pun">{</span></code></li><li class="L6"><code><span class="pln">  </span><span class="kwd">return</span><span class="pln"> </span></code></li><li class="L7"><code><span class="pln">    </span><span class="str">"John"</span><span class="pun">;</span></code></li><li class="L8"><code><span class="pun">}</span></code></li><li class="L9"><code></code></li><li class="L0"><code><span class="pln">console</span><span class="pun">.</span><span class="pln">log</span><span class="pun">(</span><span class="pln">getName1</span><span class="pun">());</span></code></li><li class="L1"><code><span class="pln">console</span><span class="pun">.</span><span class="pln">log</span><span class="pun">(</span><span class="pln">getName2</span><span class="pun">());</span></code></li></ol></pre>
<h3 id="answer">Answer</h3>
<pre class="prettyprint linenums prettyprinted"><ol class="linenums"><li class="L0"><code><span class="pun">&gt;</span><span class="pln"> </span><span class="kwd">undefined</span></code></li><li class="L1"><code><span class="pun">&gt;</span><span class="pln"> </span><span class="kwd">undefined</span></code></li></ol></pre>
<h3 id="why-">Why:</h3>
<p>Line ending semi-colons are optional in JavaScript and there are <a href="https://github.com/twbs/bootstrap/issues/3057">heated debates</a> about when they <a href="http://davidwalsh.name/javascript-semicolons">belong</a>.</p>
<p>The code above is an example I've seen from both sides of the argument. What's interesting is that it doesn't actually matter, in this case, whether you write semi-colons or not. JavaScript automatically inserts "missing" semi-colons, so both of these code blocks will be turned into: </p>
<pre class="prettyprint linenums prettyprinted"><ol class="linenums"><li class="L0"><code><span class="kwd">var</span><span class="pln"> getName </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">function</span><span class="pln"> </span><span class="pun">()</span><span class="pln"> </span><span class="pun">{</span></code></li><li class="L1"><code><span class="pln">  </span><span class="kwd">return</span><span class="pun">;</span><span class="pln">  </span><span class="com">//returns undefined</span></code></li><li class="L2"><code><span class="pln">  </span><span class="str">"John"</span><span class="pun">;</span><span class="pln">  </span><span class="com">//unreachable code</span></code></li><li class="L3"><code><span class="pun">}</span></code></li></ol></pre>
<p>Here's my take on the issue:</p>
<ul>
<li>Understand the <a href="http://bclary.com/2004/11/07/#a-7.9.1">rules of automatic semicolon insertion</a></li>
<li>Realize that the issue isn't two-sided - for example, do semicolons belong after an anonymous function is assigned to a variable?</li>
<li>If your JavaScript is for the browser, your compressor is probably inserting semi-colons for you (so omitting them doesn't save space)</li>
<li>There are <a href="http://stackoverflow.com/a/42311/193896">some cases</a> where omitting a semicolon may have unexpected results</li>
<li>There are <a href="https://gist.github.com/bendytree/113ce75b95bb326b07f0">some cases</a> where including a semicolon may be misleading</li>
<li>Very smart people come down on both sides of the issue. The worst outcome of a semicolon debate isn't the deprivation of a preference. </li>
</ul>
<hr>
<h1 id="11-arguments">11) arguments</h1>
<h3 id="question-what-is-logged-">Question: What is logged?</h3>
<pre class="prettyprint linenums prettyprinted"><ol class="linenums"><li class="L0"><code><span class="kwd">var</span><span class="pln"> doSomething </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">function</span><span class="pun">(){</span></code></li><li class="L1"><code><span class="pln">    console</span><span class="pun">.</span><span class="pln">log</span><span class="pun">(</span><span class="pln">arguments</span><span class="pun">);</span></code></li><li class="L2"><code><span class="pun">}</span></code></li><li class="L3"><code></code></li><li class="L4"><code><span class="pln">doSomething</span><span class="pun">(</span><span class="str">"Sunny"</span><span class="pun">,</span><span class="pln"> </span><span class="lit">23</span><span class="pun">);</span></code></li></ol></pre>
<h3 id="answer">Answer</h3>
<pre class="prettyprint linenums prettyprinted"><ol class="linenums"><li class="L0"><code><span class="pun">&gt;</span><span class="pln"> </span><span class="pun">[</span><span class="str">"Sunny"</span><span class="pun">,</span><span class="pln"> </span><span class="lit">23</span><span class="pun">]</span></code></li></ol></pre>
<h3 id="why-">Why:</h3>
<p>Arguments is a keyword in JavaScript that contains the incoming arguments for a function. It's a handy way to view or log parameters for debugging or to simulate function overloading in JavaScript.</p>
<p>The type of <code>arguments</code> is either an array or an "array-like object" which means it has a length property and you can reference it with numerical indexes.</p>
<p>Most often, it also includes <code>.caller</code> and <code>.callee</code> properties that reference the function that called you and the function that was actually called. It's widely considered bad practice to use these two properties.</p>
<hr>
<h1 id="12-loop-labels">12) Loop Labels</h1>
<h3 id="question-what-is-logged-">Question: What is logged?</h3>
<pre class="prettyprint linenums prettyprinted"><ol class="linenums"><li class="L0"><code><span class="pln">outer</span><span class="pun">:</span></code></li><li class="L1"><code><span class="kwd">for</span><span class="pln"> </span><span class="pun">(</span><span class="kwd">var</span><span class="pln"> i </span><span class="pun">=</span><span class="pln"> </span><span class="lit">0</span><span class="pun">;</span><span class="pln"> i </span><span class="pun">&lt;</span><span class="pln"> </span><span class="lit">10</span><span class="pun">;</span><span class="pln"> i</span><span class="pun">++)</span></code></li><li class="L2"><code><span class="pun">{</span><span class="pln"> </span></code></li><li class="L3"><code><span class="pln">   inner</span><span class="pun">:</span></code></li><li class="L4"><code><span class="pln">   </span><span class="kwd">for</span><span class="pln"> </span><span class="pun">(</span><span class="kwd">var</span><span class="pln"> j </span><span class="pun">=</span><span class="pln"> </span><span class="lit">0</span><span class="pun">;</span><span class="pln"> j </span><span class="pun">&lt;</span><span class="pln"> </span><span class="lit">100</span><span class="pun">;</span><span class="pln"> j</span><span class="pun">++)</span></code></li><li class="L5"><code><span class="pln">   </span><span class="pun">{</span></code></li><li class="L6"><code><span class="pln">      console</span><span class="pun">.</span><span class="pln">log</span><span class="pun">(</span><span class="pln">i</span><span class="pun">,</span><span class="pln"> j</span><span class="pun">);</span></code></li><li class="L7"><code></code></li><li class="L8"><code><span class="pln">      </span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="pln">j </span><span class="pun">==</span><span class="pln"> </span><span class="lit">2</span><span class="pun">)</span></code></li><li class="L9"><code><span class="pln">          </span><span class="kwd">break</span><span class="pln"> outer</span><span class="pun">;</span></code></li><li class="L0"><code><span class="pln">   </span><span class="pun">}</span></code></li><li class="L1"><code><span class="pun">}</span></code></li></ol></pre>
<h3 id="answer">Answer</h3>
<pre class="prettyprint linenums prettyprinted"><ol class="linenums"><li class="L0"><code><span class="pun">&gt;</span><span class="pln"> </span><span class="lit">0</span><span class="pun">,</span><span class="pln"> </span><span class="lit">0</span></code></li><li class="L1"><code><span class="pun">&gt;</span><span class="pln"> </span><span class="lit">0</span><span class="pun">,</span><span class="pln"> </span><span class="lit">1</span></code></li><li class="L2"><code><span class="pun">&gt;</span><span class="pln"> </span><span class="lit">0</span><span class="pun">,</span><span class="pln"> </span><span class="lit">2</span></code></li></ol></pre>
<h3 id="why-">Why:</h3>
<p>"Loop labels" allow you to name your loops, then <code>break</code> or <code>continue</code> specific loops. It's an easy way to break out of a nested loop.</p>
<p>It's been in JavaScript since version 1.2 (June 1997, IE3) - so you can rely on its existence.</p>
<hr>
<h1 id="13-use-strict">13) Use Strict</h1>
<h3 id="question-what-is-logged-">Question: What is logged?</h3>
<pre class="prettyprint linenums prettyprinted"><ol class="linenums"><li class="L0"><code><span class="pun">(</span><span class="kwd">function</span><span class="pun">(){</span></code></li><li class="L1"><code><span class="pln">    a </span><span class="pun">=</span><span class="pln"> </span><span class="lit">1</span><span class="pun">;</span></code></li><li class="L2"><code><span class="pln">    console</span><span class="pun">.</span><span class="pln">log</span><span class="pun">(</span><span class="pln">a</span><span class="pun">);</span></code></li><li class="L3"><code><span class="pun">})();</span></code></li><li class="L4"><code></code></li><li class="L5"><code><span class="pun">(</span><span class="kwd">function</span><span class="pun">(){</span></code></li><li class="L6"><code><span class="pln">    </span><span class="str">"use strict"</span><span class="pun">;</span></code></li><li class="L7"><code></code></li><li class="L8"><code><span class="pln">    b </span><span class="pun">=</span><span class="pln"> </span><span class="lit">2</span><span class="pun">;</span></code></li><li class="L9"><code><span class="pun">})();</span></code></li></ol></pre>
<h3 id="answer">Answer</h3>
<pre class="prettyprint linenums prettyprinted"><ol class="linenums"><li class="L0"><code><span class="pun">&gt;</span><span class="pln"> </span><span class="lit">1</span></code></li><li class="L1"><code><span class="pun">&gt;</span><span class="pln"> </span><span class="typ">ReferenceError</span><span class="pun">:</span><span class="pln"> b </span><span class="kwd">is</span><span class="pln"> </span><span class="kwd">not</span><span class="pln"> </span><span class="kwd">defined</span></code></li></ol></pre>
<h3 id="why-">Why:</h3>
<p>First off, let's talk browser support. 'Use strict' is part of <a href="http://ejohn.org/blog/ecmascript-5-strict-mode-json-and-more/">ECMAScript 5</a> and is supported by FF 4+, Safari 5.1+, Chrome 13+, and has partial support in IE10. Classic.</p>
<p>When <code>use strict</code> is enabled, it basically causes the browser to throw an error when you do something sloppy. Sloppy actions include:</p>
<ul>
<li>creating a global variable</li>
<li>using eval(...)</li>
<li><code>deleting</code> something that can't be deleted</li>
<li>accessing <code>arguments.callee</code> or <code>arguments.caller</code></li>
<li>any use of the <code>with</code> keyword is considered a syntax error</li>
</ul>
<p>So if the user's browser doesn't support "use strict" then it degrades gracefully - sloppy code is simply allowed.</p>
<p>You may wonder, "Why would I want the browser to throw an exception? Isn't it best if the browser powers through?" I think of it like a bad memory access - I never want my program to crash but it's much easier to track bugs if the application blows up when it knows something is wrong.  It's also nice for other developers to see 'use strict' because they can make certain assumptions about your code.</p>
<p><code>use strict</code> can be applied to just the scope of a function (as above) or the entire file. If you use it file wide, keep in mind that bundling scripts will cause all the other scripts to run in "strict" mode. You may consider wrapping your file in a self-calling function with "use strict" inside.</p>
<hr>
<h1 id="bonus-binary-to-ascii">BONUS: Binary to ASCII</h1>
<pre class="prettyprint linenums prettyprinted"><ol class="linenums"><li class="L0"><code><span class="kwd">var</span><span class="pln"> encoded </span><span class="pun">=</span><span class="pln"> btoa</span><span class="pun">(</span><span class="str">"hi"</span><span class="pun">);</span></code></li><li class="L1"><code><span class="pln">console</span><span class="pun">.</span><span class="pln">log</span><span class="pun">(</span><span class="pln">encoded</span><span class="pun">);</span></code></li><li class="L2"><code><span class="pun">&gt;</span><span class="pln"> </span><span class="str">"aGk="</span></code></li><li class="L3"><code><span class="pln">console</span><span class="pun">.</span><span class="pln">log</span><span class="pun">(</span><span class="pln">atob</span><span class="pun">(</span><span class="pln">encoded</span><span class="pun">));</span></code></li><li class="L4"><code><span class="pun">&gt;</span><span class="pln"> </span><span class="str">"hi"</span></code></li></ol></pre>
<p>'atob()' and 'btoa()' are fun little functions for encoding binary &lt;=&gt; ASCII. They are supported by modern browser and IE10+.</p>
<p>Just watch out for <a href="https://developer.mozilla.org/en-US/docs/Web/API/window.btoa?redirectlocale=en-US&amp;redirectslug=DOM%2Fwindow.btoa#Unicode_Strings">unicode strings</a>. Very useful for <a href="http://codegolf.stackexchange.com/">Code Golf</a>.</p>
<hr>
<p>There were a lot of things (like <a href="http://net.tutsplus.com/articles/news/ecmascript-6-today/">ECMAScript 6</a>) that I wanted to include in this post, but it's already too long.</p>

		</div>